<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="HKU student"><title>TuShare Testing | Henry SHE's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">TuShare Testing</h1><a id="logo" href="/.">Henry SHE's Blog</a><p class="description">Welcome to my blog</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">TuShare Testing</h1><div class="post-meta">Jun 2, 2018</div><div class="post-content"><blockquote>
<p>Actually recently I am learning a online course about finance, and know an API can get some open data from the trading market, which is very convenient for do some testing and do some anaysis, like testing some trading strageties, NLP analysis, data visualization (Movie data) and so on.</p>
</blockquote>
<p><em>You can also access this webpage from this url</em><br><a href="http://henryshe.cn/py" target="_blank" rel="noopener">http://henryshe.cn/py</a></p>
<h2 id="Tushare-Market-API-Testing"><a href="#Tushare-Market-API-Testing" class="headerlink" title="Tushare Market API Testing"></a>Tushare Market API Testing</h2><blockquote>
<p><a href="http://tushare.org/" target="_blank" rel="noopener">http://tushare.org/</a> is a website that developed by a Chinese orginaztion, and it can support many features, including geting market data, get news, cinema data and so on, it is  good API to get some data to do some analysis.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import the mordual as ts</span></span><br><span class="line"><span class="keyword">import</span> tushare <span class="keyword">as</span> ts</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ts.get_latest_news() <span class="comment">#默认获取最近80条新闻数据，只提供新闻类型、链接和标题</span></span><br><span class="line">ts.get_latest_news(top=<span class="number">5</span>,show_content=<span class="keyword">True</span>) <span class="comment">#显示最新5条新闻，并打印出新闻内容</span></span><br></pre></td></tr></table></figure>
<div><br><style scoped><br>    .dataframe tbody tr th:only-of-type {<br>        vertical-align: middle;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br><br>    .dataframe thead th {<br>        text-align: right;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>classify</th><br>      <th>title</th><br>      <th>time</th><br>      <th>url</th><br>      <th>content</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>国内财经</td><br>      <td>北京通州楼市企稳  二手房成交量上升</td><br>      <td>06-02 00:41</td><br>      <td><a href="http://finance.sina.com.cn/roll/2018-06-02/doc.." target="_blank" rel="noopener">http://finance.sina.com.cn/roll/2018-06-02/doc..</a>.</td><br>      <td>北京通州楼市企稳 二手房成交量上升\n夏晨翔，童海华\n“最近几周成交量比较高，价格也有一点…</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>国内财经</td><br>      <td>细则将落地  金控公司严监管倒计时</td><br>      <td>06-02 00:24</td><br>      <td><a href="http://finance.sina.com.cn/roll/2018-06-02/doc.." target="_blank" rel="noopener">http://finance.sina.com.cn/roll/2018-06-02/doc..</a>.</td><br>      <td>细则将落地 金控公司严监管倒计时\n秦玉芳\n随着金融体制改革的持续推进，金融控股公司也将面…</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>国内财经</td><br>      <td>新一轮税务稽查启动  重点监测个人账户异动</td><br>      <td>06-02 00:24</td><br>      <td><a href="http://finance.sina.com.cn/roll/2018-06-02/doc.." target="_blank" rel="noopener">http://finance.sina.com.cn/roll/2018-06-02/doc..</a>.</td><br>      <td>新一轮税务稽查启动 重点监测个人账户异动\n杜丽娟\n在国务院确定国地税合并消息一个月后，由…</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>国内财经</td><br>      <td>多城市升级楼市调控   “堵”“疏”并举因城施策</td><br>      <td>06-02 00:24</td><br>      <td><a href="http://finance.sina.com.cn/roll/2018-06-02/doc.." target="_blank" rel="noopener">http://finance.sina.com.cn/roll/2018-06-02/doc..</a>.</td><br>      <td>多城市升级楼市调控 “堵”“疏”并举因城施策\n谭志娟\n“调控”再次成为房地产市场的关键词…</td><br>    </tr><br>    <tr><br>      <th>4</th><br>      <td>国内财经</td><br>      <td>开放政策加速落实  外资机构低调角逐</td><br>      <td>06-02 00:24</td><br>      <td><a href="http://finance.sina.com.cn/roll/2018-06-02/doc.." target="_blank" rel="noopener">http://finance.sina.com.cn/roll/2018-06-02/doc..</a>.</td><br>      <td>开放政策加速落实 外资机构低调角逐\n吕宇凰、曹驰\n曹驰 随着对外开放政策尺度进一步扩大，…</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts.guba_sina()</span><br></pre></td></tr></table></figure>
<div><br><style scoped><br>    .dataframe tbody tr th:only-of-type {<br>        vertical-align: middle;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br><br>    .dataframe thead th {<br>        text-align: right;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>title</th><br>      <th>ptime</th><br>      <th>rcounts</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>大底当前 未来板块布局两手抓</td><br>      <td>06月01日 08:38</td><br>      <td>100160.0</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>儿童节A股MSCI首秀</td><br>      <td>06月01日 07:59</td><br>      <td>75588.0</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>入摩开闸，六月能否开门红值得期待</td><br>      <td>06月01日 05:23</td><br>      <td>28964.0</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>机构反着来白马股大跌  三重底支撑依然存在</td><br>      <td>06月01日 15:21</td><br>      <td>16336.0</td><br>    </tr><br>    <tr><br>      <th>4</th><br>      <td>下周初将迎来变盘</td><br>      <td>06月01日 14:36</td><br>      <td>28746.0</td><br>    </tr><br>    <tr><br>      <th>5</th><br>      <td>能不能该不该进场？</td><br>      <td>06月01日 08:52</td><br>      <td>30186.0</td><br>    </tr><br>    <tr><br>      <th>6</th><br>      <td>静候周末的重磅消息</td><br>      <td>06月01日 15:12</td><br>      <td>192660.0</td><br>    </tr><br>    <tr><br>      <th>7</th><br>      <td>主力制造恐慌抢带血的筹码</td><br>      <td>06月01日 16:16</td><br>      <td>14126.0</td><br>    </tr><br>    <tr><br>      <th>8</th><br>      <td>周末个股传闻信息一览</td><br>      <td>06月01日 15:14</td><br>      <td>18755.0</td><br>    </tr><br>    <tr><br>      <th>9</th><br>      <td>市场出现超跌反弹，短线关注上方缺口压力</td><br>      <td>06月01日 09:32</td><br>      <td>19195.0</td><br>    </tr><br>    <tr><br>      <th>10</th><br>      <td>注意今日可能出现的分化行情</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>11</th><br>      <td>普涨之后又会落得一地鸡毛</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>12</th><br>      <td>大盘报复性反弹随时展开</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>13</th><br>      <td>预计5个交易日内，会加仓！！</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>14</th><br>      <td>大盘底信号成立</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>15</th><br>      <td>6月赚钱的秘诀看过来</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>16</th><br>      <td>A股入摩，看市场能否就此雄起？</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>    <tr><br>      <th>17</th><br>      <td>A股入摩能否启动六月行情</td><br>      <td></td><br>      <td>0.0</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = ts.day_boxoffice(<span class="string">'2015-12-24'</span>) </span><br><span class="line">df.head(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<div><br><style scoped><br>    .dataframe tbody tr th:only-of-type {<br>        vertical-align: middle;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br><br>    .dataframe thead th {<br>        text-align: right;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>AvgPrice</th><br>      <th>AvpPeoPle</th><br>      <th>BoxOffice</th><br>      <th>BoxOffice_Up</th><br>      <th>IRank</th><br>      <th>MovieDay</th><br>      <th>MovieName</th><br>      <th>SumBoxOffice</th><br>      <th>WomIndex</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>32</td><br>      <td>2</td><br>      <td>669</td><br>      <td>-92</td><br>      <td>1</td><br>      <td>2</td><br>      <td>哆啦A梦：大雄的金银岛</td><br>      <td>9539</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>39</td><br>      <td>2</td><br>      <td>289</td><br>      <td>-92</td><br>      <td>2</td><br>      <td>23</td><br>      <td>复仇者联盟3：无限战争</td><br>      <td>221735</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>34</td><br>      <td>1</td><br>      <td>282</td><br>      <td>-91</td><br>      <td>3</td><br>      <td>16</td><br>      <td>超时空同居</td><br>      <td>64000</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>33</td><br>      <td>2</td><br>      <td>233</td><br>      <td>-93</td><br>      <td>4</td><br>      <td>2</td><br>      <td>潜艇总动员：海底两万里</td><br>      <td>3585</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>4</th><br>      <td>27</td><br>      <td>1</td><br>      <td>67</td><br>      <td>-93</td><br>      <td>5</td><br>      <td>2</td><br>      <td>魔镜奇缘2</td><br>      <td>1084</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>5</th><br>      <td>37</td><br>      <td>1</td><br>      <td>56</td><br>      <td>-89</td><br>      <td>6</td><br>      <td>9</td><br>      <td>游侠索罗：星球大战外传</td><br>      <td>8707</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>6</th><br>      <td>33</td><br>      <td>2</td><br>      <td>42</td><br>      <td>-83</td><br>      <td>7</td><br>      <td>9</td><br>      <td>完美陌生人</td><br>      <td>3175</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>7</th><br>      <td>34</td><br>      <td>1</td><br>      <td>38</td><br>      <td>-89</td><br>      <td>8</td><br>      <td>16</td><br>      <td>寂静之地</td><br>      <td>19553</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>8</th><br>      <td>29</td><br>      <td>1</td><br>      <td>27</td><br>      <td>-93</td><br>      <td>9</td><br>      <td>3</td><br>      <td>我的宠物恐龙</td><br>      <td>582</td><br>      <td></td><br>    </tr><br>    <tr><br>      <th>9</th><br>      <td>34</td><br>      <td>1</td><br>      <td>6</td><br>      <td>-96</td><br>      <td>10</td><br>      <td>51</td><br>      <td>狂暴巨兽</td><br>      <td>99174</td><br>      <td></td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = ts.day_cinema()</span><br><span class="line">df.head(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[Getting data:]##########
</code></pre><div><br><style scoped><br>    .dataframe tbody tr th:only-of-type {<br>        vertical-align: middle;<br>    }<br><br>    .dataframe tbody tr th {<br>        vertical-align: top;<br>    }<br><br>    .dataframe thead th {<br>        text-align: right;<br>    }<br></style><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>Attendance</th><br>      <th>AvgPeople</th><br>      <th>CinemaName</th><br>      <th>RowNum</th><br>      <th>TodayAudienceCount</th><br>      <th>TodayBox</th><br>      <th>TodayShowCount</th><br>      <th>price</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>29.216348</td><br>      <td>60.72</td><br>      <td>Jackie Chan北京耀莱</td><br>      <td>1</td><br>      <td>6254</td><br>      <td>282413.66</td><br>      <td>103</td><br>      <td>45.16</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>30.890771</td><br>      <td>67.93</td><br>      <td>广州飞扬影城（正佳分店）</td><br>      <td>2</td><br>      <td>4551</td><br>      <td>223335.67</td><br>      <td>67</td><br>      <td>49.07</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>43.622219</td><br>      <td>61.68</td><br>      <td>福州仓山万达广场店</td><br>      <td>3</td><br>      <td>4071</td><br>      <td>220726.90</td><br>      <td>66</td><br>      <td>54.22</td><br>    </tr><br>    <tr><br>      <th>3</th><br>      <td>50.194812</td><br>      <td>85.65</td><br>      <td>武商众圆摩尔国际电影城</td><br>      <td>4</td><br>      <td>7109</td><br>      <td>218101.80</td><br>      <td>83</td><br>      <td>30.68</td><br>    </tr><br>    <tr><br>      <th>4</th><br>      <td>35.609110</td><br>      <td>56.03</td><br>      <td>大地数字影院-深圳万象城</td><br>      <td>5</td><br>      <td>4482</td><br>      <td>210997.40</td><br>      <td>80</td><br>      <td>47.08</td><br>    </tr><br>    <tr><br>      <th>5</th><br>      <td>32.347902</td><br>      <td>71.61</td><br>      <td>广州飞扬影城</td><br>      <td>6</td><br>      <td>4225</td><br>      <td>200879.82</td><br>      <td>59</td><br>      <td>47.55</td><br>    </tr><br>    <tr><br>      <th>6</th><br>      <td>37.579205</td><br>      <td>57.56</td><br>      <td>武商摩尔国际电影城</td><br>      <td>7</td><br>      <td>6447</td><br>      <td>199538.87</td><br>      <td>112</td><br>      <td>30.95</td><br>    </tr><br>    <tr><br>      <th>7</th><br>      <td>31.796817</td><br>      <td>45.76</td><br>      <td>首都华融电影院</td><br>      <td>8</td><br>      <td>3890</td><br>      <td>194716.55</td><br>      <td>85</td><br>      <td>50.06</td><br>    </tr><br>    <tr><br>      <th>8</th><br>      <td>34.870788</td><br>      <td>54.67</td><br>      <td>成都锦华万达广场店</td><br>      <td>9</td><br>      <td>4756</td><br>      <td>193566.91</td><br>      <td>87</td><br>      <td>40.70</td><br>    </tr><br>    <tr><br>      <th>9</th><br>      <td>29.277343</td><br>      <td>49.97</td><br>      <td>广州白云万达广场店</td><br>      <td>10</td><br>      <td>2998</td><br>      <td>192440.70</td><br>      <td>60</td><br>      <td>64.19</td><br>    </tr><br>  </tbody><br></table><br></div>


</div><div class="tags"><a href="/tags/python/">python</a></div><div class="post-nav"><a class="next" href="/2018/05/08/Deep-Learning-Notes/">Deep Learning Notes</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Deep-Learning/" style="font-size: 15px;">Deep Learning</a> <a href="/tags/Cloud-Computing/" style="font-size: 15px;">Cloud Computing</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Coding/" style="font-size: 15px;">Coding</a> <a href="/tags/python/" style="font-size: 15px;">python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/02/TuShare-Testing/">TuShare Testing</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/08/Deep-Learning-Notes/">Deep Learning Notes</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/07/Common-Linux-Shell-Commands/">Common Linux Shell Commands</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/07/Maven-Project-Creation-in-terminal/">Maven Project Creation(in terminal)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/07/Hive-Getting-data-from-HDFS/">Hive Getting data from HDFS</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/30/Visualization-Graphs/">Visualization Graphs</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/30/Change-Theme-of-my-Blog/">Change Theme of my Blog</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/TestPost/">Test my Hexo</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.weibo.com/lilienthal" title="Weibo" target="_blank">Weibo</a><ul></ul><a href="https://www.jianshu.com/u/f979250185cd" title="Jianshu" target="_blank">Jianshu</a><ul></ul><a href="http://www.github.com/HenrySHE" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="http://henryshe.cn" title="Personal Web Page" target="_blank">Personal Web Page</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Henry SHE's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" color="0,0,0" opacity="0.5" zIndex="-2" count="50" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>